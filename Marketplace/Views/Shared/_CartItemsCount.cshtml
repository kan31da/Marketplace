@using Marketplace.Core.Contracts
@using Marketplace.Infrastructure.Data.Identity
@using Microsoft.AspNetCore.Identity

@inject ICartService cartservice
@inject IUserService userService
@inject SignInManager<ApplicationUser> signInManager
@inject UserManager<ApplicationUser> userManager


@{
    var currentUser = await userManager.GetUserAsync(User);

    int number = await cartservice.GetUsersCartCount(currentUser.Id);
}

@if (signInManager.IsSignedIn(User))
{
   @number
}